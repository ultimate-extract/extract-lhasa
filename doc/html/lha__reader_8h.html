<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Lhasa: lha_reader.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Lhasa
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8af83c0dc83a45a35ca6968cdc29a7af.html">tmp</a></li><li class="navelem"><a class="el" href="dir_f9f58483a907549b51757f86d3dda563.html">lhasa2</a></li><li class="navelem"><a class="el" href="dir_9320a006bd98638b857a14b03dd0670a.html">lib</a></li><li class="navelem"><a class="el" href="dir_adc926125e392b568aa09edef332abcb.html">public</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">lha_reader.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>LHA file reader.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9e290a3144759e7e61f78ed21a17bc8a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9e290a3144759e7e61f78ed21a17bc8a"></a>
typedef struct _LHAReader&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a></td></tr>
<tr class="memdesc:a9e290a3144759e7e61f78ed21a17bc8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque structure used to decode the contents of an LZH file. <br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a6fa36971f937a0b2a0bcada393324c01"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lha__reader_8h.html#a6fa36971f937a0b2a0bcada393324c01">LHAReaderDirPolicy</a> { <a class="el" href="lha__reader_8h.html#a6fa36971f937a0b2a0bcada393324c01aded49ec2cb42ff6ebfc517c07c2141d2">LHA_READER_DIR_PLAIN</a>, 
<a class="el" href="lha__reader_8h.html#a6fa36971f937a0b2a0bcada393324c01abdc9c967f480e84a17069d8816308c55">LHA_READER_DIR_END_OF_DIR</a>, 
<a class="el" href="lha__reader_8h.html#a6fa36971f937a0b2a0bcada393324c01a8ff66f45dcda2447887dad564382e51e">LHA_READER_DIR_END_OF_FILE</a>
 }</td></tr>
<tr class="memdesc:a6fa36971f937a0b2a0bcada393324c01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Policy for extracting directories.  <a href="lha__reader_8h.html#a6fa36971f937a0b2a0bcada393324c01">More...</a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae827a95e6246ff0e7eebe5a2363f8fed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lha__reader_8h.html#ae827a95e6246ff0e7eebe5a2363f8fed">lha_reader_new</a> (<a class="el" href="lha__input__stream_8h.html#a887acbbc367395bae98032ed5ce21ec7">LHAInputStream</a> *stream)</td></tr>
<tr class="memdesc:ae827a95e6246ff0e7eebe5a2363f8fed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> to read data from an <a class="el" href="lha__input__stream_8h.html#a887acbbc367395bae98032ed5ce21ec7">LHAInputStream</a>.  <a href="#ae827a95e6246ff0e7eebe5a2363f8fed"></a><br/></td></tr>
<tr class="memitem:a54a2d854813dae3f89322a637e2fa6c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lha__reader_8h.html#a54a2d854813dae3f89322a637e2fa6c1">lha_reader_free</a> (<a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *reader)</td></tr>
<tr class="memdesc:a54a2d854813dae3f89322a637e2fa6c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> structure.  <a href="#a54a2d854813dae3f89322a637e2fa6c1"></a><br/></td></tr>
<tr class="memitem:a434cd340b9dbe8ffa9e9cdedbaa54151"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lha__reader_8h.html#a434cd340b9dbe8ffa9e9cdedbaa54151">lha_reader_set_dir_policy</a> (<a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *reader, <a class="el" href="lha__reader_8h.html#a6fa36971f937a0b2a0bcada393324c01">LHAReaderDirPolicy</a> policy)</td></tr>
<tr class="memdesc:a434cd340b9dbe8ffa9e9cdedbaa54151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the <a class="el" href="lha__reader_8h.html#a6fa36971f937a0b2a0bcada393324c01">LHAReaderDirPolicy</a> used to extract directories.  <a href="#a434cd340b9dbe8ffa9e9cdedbaa54151"></a><br/></td></tr>
<tr class="memitem:a7e837e39791a286365ce6f5db8c48181"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__LHAFileHeader.html">LHAFileHeader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lha__reader_8h.html#a7e837e39791a286365ce6f5db8c48181">lha_reader_next_file</a> (<a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *reader)</td></tr>
<tr class="memdesc:a7e837e39791a286365ce6f5db8c48181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the header of the next archived file from the input stream.  <a href="#a7e837e39791a286365ce6f5db8c48181"></a><br/></td></tr>
<tr class="memitem:a142f8bcf6753a04544f67c626f514667"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lha__reader_8h.html#a142f8bcf6753a04544f67c626f514667">lha_reader_read</a> (<a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *reader, void *buf, size_t buf_len)</td></tr>
<tr class="memdesc:a142f8bcf6753a04544f67c626f514667"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read some of the (decompresed) data for the current archived file, decompressing as appropriate.  <a href="#a142f8bcf6753a04544f67c626f514667"></a><br/></td></tr>
<tr class="memitem:a712b50256ff9f461afd53394f3e39b44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lha__reader_8h.html#a712b50256ff9f461afd53394f3e39b44">lha_reader_check</a> (<a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *reader, <a class="el" href="lha__decoder_8h.html#aedace58392471df72959db2a89665759">LHADecoderProgressCallback</a> callback, void *callback_data)</td></tr>
<tr class="memdesc:a712b50256ff9f461afd53394f3e39b44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decompress the contents of the current archived file, and check that the checksum matches correctly.  <a href="#a712b50256ff9f461afd53394f3e39b44"></a><br/></td></tr>
<tr class="memitem:a4bc2d6c7a6571c578b2f942a998d5e87"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lha__reader_8h.html#a4bc2d6c7a6571c578b2f942a998d5e87">lha_reader_extract</a> (<a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *reader, char *filename, <a class="el" href="lha__decoder_8h.html#aedace58392471df72959db2a89665759">LHADecoderProgressCallback</a> callback, void *callback_data)</td></tr>
<tr class="memdesc:a4bc2d6c7a6571c578b2f942a998d5e87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract the contents of the current archived file.  <a href="#a4bc2d6c7a6571c578b2f942a998d5e87"></a><br/></td></tr>
<tr class="memitem:aa235f7a9640755f51fd1747932cfdaad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lha__reader_8h.html#aa235f7a9640755f51fd1747932cfdaad">lha_reader_current_is_fake</a> (<a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *reader)</td></tr>
<tr class="memdesc:aa235f7a9640755f51fd1747932cfdaad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current file (last returned by <a class="el" href="lha__reader_8h.html#a7e837e39791a286365ce6f5db8c48181">lha_reader_next_file</a>) was generated internally by the extract process.  <a href="#aa235f7a9640755f51fd1747932cfdaad"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>LHA file reader. </p>
<p>This file contains the interface functions for the <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> structure, used to decode data from a compressed LZH file and extract compressed files. </p>
</div><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a6fa36971f937a0b2a0bcada393324c01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="lha__reader_8h.html#a6fa36971f937a0b2a0bcada393324c01">LHAReaderDirPolicy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Policy for extracting directories. </p>
<p>When extracting a directory, some of the metadata associated with it needs to be set after the contents of the directory have been extracted. This includes the modification time (which would otherwise be reset to the current time) and the permissions (which can affect the ability to extract files into the directory). To work around this problem there are several ways of handling directory extraction. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a6fa36971f937a0b2a0bcada393324c01aded49ec2cb42ff6ebfc517c07c2141d2"></a>LHA_READER_DIR_PLAIN</em>&nbsp;</td><td>
<p>"Plain" policy. </p>
<p>In this mode, the metadata is set at the same time that the directory is created. This is the simplest to comprehend, and the files returned from <a class="el" href="lha__reader_8h.html#a7e837e39791a286365ce6f5db8c48181">lha_reader_next_file</a> will match the files in the archive, but it is not recommended. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6fa36971f937a0b2a0bcada393324c01abdc9c967f480e84a17069d8816308c55"></a>LHA_READER_DIR_END_OF_DIR</em>&nbsp;</td><td>
<p>"End of directory" policy. </p>
<p>In this mode, if a directory is extracted, the directory name will be saved. Once the contents of the directory appear to have been extracted (ie. a file is found that is not within the directory), the directory will be returned again by <a class="el" href="lha__reader_8h.html#a7e837e39791a286365ce6f5db8c48181">lha_reader_next_file</a>. This time, when the directory is "extracted" (via <a class="el" href="lha__reader_8h.html#a4bc2d6c7a6571c578b2f942a998d5e87">lha_reader_extract</a>), the metadata will be set.</p>
<p>This method uses less memory than <a class="el" href="lha__reader_8h.html#a6fa36971f937a0b2a0bcada393324c01a8ff66f45dcda2447887dad564382e51e">LHA_READER_DIR_END_OF_FILE</a>, but there is the risk that a file will appear within the archive after the metadata has been set for the directory. However, this is not normally the case, as files and directories typically appear within an archive in order. GNU tar uses the same method to address this problem with tar files.</p>
<p>This is the default policy. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6fa36971f937a0b2a0bcada393324c01a8ff66f45dcda2447887dad564382e51e"></a>LHA_READER_DIR_END_OF_FILE</em>&nbsp;</td><td>
<p>"End of file" policy. </p>
<p>In this mode, each directory that is extracted is recorded in a list. When the end of the archive is reached, these directories are returned again by <a class="el" href="lha__reader_8h.html#a7e837e39791a286365ce6f5db8c48181">lha_reader_next_file</a>. When the directories are "extracted" again (via <a class="el" href="lha__reader_8h.html#a4bc2d6c7a6571c578b2f942a998d5e87">lha_reader_extract</a>), the metadata is set.</p>
<p>This avoids the problems that can potentially occur with <a class="el" href="lha__reader_8h.html#a6fa36971f937a0b2a0bcada393324c01abdc9c967f480e84a17069d8816308c55">LHA_READER_DIR_END_OF_DIR</a>, but uses more memory. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="a712b50256ff9f461afd53394f3e39b44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lha_reader_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lha__decoder_8h.html#aedace58392471df72959db2a89665759">LHADecoderProgressCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>callback_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decompress the contents of the current archived file, and check that the checksum matches correctly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> structure. </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to invoke to monitor progress (or NULL if progress does not need to be monitored). </td></tr>
    <tr><td class="paramname">callback_data</td><td>Extra data to pass to the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-zero if the checksum matches. </dd></dl>

</div>
</div>
<a class="anchor" id="aa235f7a9640755f51fd1747932cfdaad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lha_reader_current_is_fake </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the current file (last returned by <a class="el" href="lha__reader_8h.html#a7e837e39791a286365ce6f5db8c48181">lha_reader_next_file</a>) was generated internally by the extract process. </p>
<p>This occurs when a directory or symbolic link must be created as a two-stage process, with some of the extraction process deferred to later in the stream.</p>
<p>These "fake" duplicates should usually be hidden in the user interface when a summary of extraction is presented.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-zero if the current file is a "fake", or zero for a normal file. </dd></dl>

</div>
</div>
<a class="anchor" id="a4bc2d6c7a6571c578b2f942a998d5e87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lha_reader_extract </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lha__decoder_8h.html#aedace58392471df72959db2a89665759">LHADecoderProgressCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>callback_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract the contents of the current archived file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> structure. </td></tr>
    <tr><td class="paramname">filename</td><td>Filename to extract the archived file to, or NULL to use the path and filename from the header. </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to invoke to monitor progress (or NULL if progress does not need to be monitored). </td></tr>
    <tr><td class="paramname">callback_data</td><td>Extra data to pass to the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-zero for success, or zero for failure (including CRC error). </dd></dl>

</div>
</div>
<a class="anchor" id="a54a2d854813dae3f89322a637e2fa6c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lha_reader_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae827a95e6246ff0e7eebe5a2363f8fed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a>* lha_reader_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lha__input__stream_8h.html#a887acbbc367395bae98032ed5ce21ec7">LHAInputStream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> to read data from an <a class="el" href="lha__input__stream_8h.html#a887acbbc367395bae98032ed5ce21ec7">LHAInputStream</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The input stream to read data from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a new <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> structure, or NULL for error. </dd></dl>

</div>
</div>
<a class="anchor" id="a7e837e39791a286365ce6f5db8c48181"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__LHAFileHeader.html">LHAFileHeader</a>* lha_reader_next_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the header of the next archived file from the input stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to an LHAFileHeader structure, or NULL if an error occurred. This pointer is only valid until the next time that lha_reader_next_file is called. </dd></dl>

</div>
</div>
<a class="anchor" id="a142f8bcf6753a04544f67c626f514667"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t lha_reader_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read some of the (decompresed) data for the current archived file, decompressing as appropriate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> structure. </td></tr>
    <tr><td class="paramname">buf</td><td>Pointer to a buffer in which to store the data. </td></tr>
    <tr><td class="paramname">buf_len</td><td>Size of the buffer, in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes stored in the buffer, or zero if there is no more data to decompress. </dd></dl>

</div>
</div>
<a class="anchor" id="a434cd340b9dbe8ffa9e9cdedbaa54151"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lha_reader_set_dir_policy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lha__reader_8h.html#a6fa36971f937a0b2a0bcada393324c01">LHAReaderDirPolicy</a>&#160;</td>
          <td class="paramname"><em>policy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the <a class="el" href="lha__reader_8h.html#a6fa36971f937a0b2a0bcada393324c01">LHAReaderDirPolicy</a> used to extract directories. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The <a class="el" href="lha__reader_8h.html#a9e290a3144759e7e61f78ed21a17bc8a">LHAReader</a> structure. </td></tr>
    <tr><td class="paramname">policy</td><td>The policy to use for directories. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 4 2013 00:12:31 for Lhasa by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
